<!DOCTYPE html>

<html>
<head>
  <meta charset=utf-8 />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Firebase Cloud Messaging Example</title>

</head>
<body>

<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/7.12.0/firebase-app.js"></script>
<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/7.12.0/firebase-messaging.js"></script>

<script>
  // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyCwYoxw2EfCi1YL9j_LfRkbUn9TnqoIWpE",
    authDomain: "fcm-dev-272104.firebaseapp.com",
    databaseURL: "https://fcm-dev-272104.firebaseio.com",
    projectId: "fcm-dev-272104",
    storageBucket: "fcm-dev-272104.appspot.com",
    messagingSenderId: "244748093687",
    appId: "1:244748093687:web:0fcd7ea16813033a13ebf2",
    measurementId: "G-X66EZDVHZC"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  // firebase.analytics();
  
  

  const messaging = firebase.messaging();

  messaging.usePublicVapidKey("AIzaSyCwYoxw2EfCi1YL9j_LfRkbUn9TnqoIWpE");

  messaging.requestPermission()
  .then(() => {
    console.log("Have Permission.");
  })
  .catch((err) => {
    console.log("Notif Blocked.")
  });

   /*  messaging.getToken().then((currentToken) => {
      console.log(currentToken)
    }).catch((err) => {
      console.log('An error occurred while retrieving token. ', err);
      // showToken('Error retrieving Instance ID token. ', err);
      // setTokenSentToServer(false);
    }); */

    /* messaging.setBackgroundMessageHandler(function(payload) {
    // console.log('[firebase-messaging-sw.js] Received background message ', payload);
    // Customize notification here
    const notificationTitle = 'Background Message Title';
    const notificationOptions = {
      body: 'Background Message body.'
      // icon: '/firebase-logo.png'
    };

    return self.registration.showNotification(notificationTitle, notificationOptions);
  });*/
</script>
</body>
</html>
